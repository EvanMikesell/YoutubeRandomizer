{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mikes/Documents/GitHub/ytr/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/mikes/Documents/GitHub/ytr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/mikes/Documents/GitHub/ytr/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/mikes/Documents/GitHub/ytr/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/mikes/Documents/GitHub/ytr/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/mikes/Documents/GitHub/ytr/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import Title from\"./components/title.js\";import MiddleRow from\"./components/middleRow.js\";import RandomVideoButton from\"./components/randomVideoButton.js\";//todo: dont create the \"words\" array every time they click the button\nvar App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={videoURL:\"\",searchWords:[]};_this.getRandomVideo=function(){_this.getVideo();};return _this;}_createClass(App,[{key:\"getVideo\",value:function(){var _getVideo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(keywords){var keyword,youtubeAPIKey,APIurl,res,data,searchLength,idIndex,randomURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.createWordList();case 2:keywords=_context.sent;keyword=keywords[Math.floor(Math.random()*keywords.length+1)];console.log(\"Chosen Keyword: \"+keyword);youtubeAPIKey=\"AIzaSyAWwZk3tMo_OZp0JZ9Y17oxykJpng6Q-nY\";APIurl=\"https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q=\"+keyword+\"&type=video&key=\"+youtubeAPIKey;_context.next=9;return fetch(APIurl);case 9:res=_context.sent;_context.next=12;return res.json();case 12:data=_context.sent;searchLength=data.items.length;idIndex=Math.floor(Math.random()*searchLength);console.log(\"LENGTH: \"+data.items.length);randomURL=\"https://www.youtube.com/embed/\"+data.items[idIndex].id.videoId;console.log(\"Our URL: \"+randomURL);console.log(data);this.setState({videoURL:randomURL});return _context.abrupt(\"return\",randomURL);case 21:case\"end\":return _context.stop();}}},_callee,this);}));function getVideo(_x){return _getVideo.apply(this,arguments);}return getVideo;}()},{key:\"createWordList\",value:function(){var _createWordList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var words,res,data,word;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:words=[];_context2.next=3;return fetch(\"/common-words.json\");case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;for(word in data){words.push(word);}return _context2.abrupt(\"return\",words);case 9:case\"end\":return _context2.stop();}}},_callee2);}));function createWordList(){return _createWordList.apply(this,arguments);}return createWordList;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(RandomVideoButton,{onClick:this.getRandomVideo}),/*#__PURE__*/_jsx(MiddleRow,{url:this.state.videoURL})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/mikes/Documents/GitHub/ytr/src/app.js"],"names":["React","Component","Title","MiddleRow","RandomVideoButton","App","state","videoURL","searchWords","getRandomVideo","getVideo","keywords","createWordList","keyword","Math","floor","random","length","console","log","youtubeAPIKey","APIurl","fetch","res","json","data","searchLength","items","idIndex","randomURL","id","videoId","setState","words","word","push"],"mappings":"ywBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,mCAA9B,CAEA;GACMC,CAAAA,G,+SACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,WAAW,CAAE,EAFP,C,OAsCRC,c,CAAiB,UAAM,CACrB,MAAKC,QAAL,GACD,C,yJAnCcC,Q,iNACQ,MAAKC,cAAL,E,QAAjBD,Q,eACAE,O,CAAUF,QAAQ,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBL,QAAQ,CAACM,MAAzB,CAAkC,CAA7C,CAAD,C,CACtBC,OAAO,CAACC,GAAR,CAAY,mBAAqBN,OAAjC,EACMO,a,CAAgB,yC,CAChBC,M,CACJ,6EACAR,OADA,CAEA,kBAFA,CAGAO,a,uBACcE,CAAAA,KAAK,CAACD,MAAD,C,QAAjBE,G,sCACaA,CAAAA,GAAG,CAACC,IAAJ,E,SAAbC,I,eACAC,Y,CAAeD,IAAI,CAACE,KAAL,CAAWV,M,CAC1BW,O,CAAUd,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBU,YAA3B,C,CACdR,OAAO,CAACC,GAAR,CAAY,WAAaM,IAAI,CAACE,KAAL,CAAWV,MAApC,EACIY,S,CACF,iCAAmCJ,IAAI,CAACE,KAAL,CAAWC,OAAX,EAAoBE,EAApB,CAAuBC,O,CAC5Db,OAAO,CAACC,GAAR,CAAY,YAAcU,SAA1B,EACAX,OAAO,CAACC,GAAR,CAAYM,IAAZ,EACA,KAAKO,QAAL,CAAc,CAAEzB,QAAQ,CAAEsB,SAAZ,CAAd,E,gCACOA,S,uaAIHI,K,CAAQ,E,wBACIX,CAAAA,KAAK,CAAC,oBAAD,C,QAAjBC,G,uCACaA,CAAAA,GAAG,CAACC,IAAJ,E,QAAbC,I,gBACJ,IAASS,IAAT,GAAiBT,CAAAA,IAAjB,CAAuB,CACrBQ,KAAK,CAACE,IAAN,CAAWD,IAAX,EACD,C,iCACMD,K,qMAOA,CACP,mBACE,mCACE,oCACE,KAAC,KAAD,IADF,cAEE,KAAC,iBAAD,EAAmB,OAAO,CAAE,KAAKxB,cAAjC,EAFF,cAGE,KAAC,SAAD,EAAW,GAAG,CAAE,KAAKH,KAAL,CAAWC,QAA3B,EAHF,GADF,EADF,CASD,C,iBArDeN,S,EAuDlB,cAAeI,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport Title from \"./components/title.js\";\r\nimport MiddleRow from \"./components/middleRow.js\";\r\nimport RandomVideoButton from \"./components/randomVideoButton.js\";\r\n\r\n//todo: dont create the \"words\" array every time they click the button\r\nclass App extends Component {\r\n  state = {\r\n    videoURL: \"\",\r\n    searchWords: [],\r\n  };\r\n\r\n  async getVideo(keywords) {\r\n    var keywords = await this.createWordList();\r\n    var keyword = keywords[Math.floor(Math.random() * keywords.length + 1)];\r\n    console.log(\"Chosen Keyword: \" + keyword);\r\n    const youtubeAPIKey = \"AIzaSyAWwZk3tMo_OZp0JZ9Y17oxykJpng6Q-nY\";\r\n    const APIurl =\r\n      \"https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q=\" +\r\n      keyword +\r\n      \"&type=video&key=\" +\r\n      youtubeAPIKey;\r\n    let res = await fetch(APIurl);\r\n    let data = await res.json();\r\n    var searchLength = data.items.length;\r\n    var idIndex = Math.floor(Math.random() * searchLength);\r\n    console.log(\"LENGTH: \" + data.items.length);\r\n    var randomURL =\r\n      \"https://www.youtube.com/embed/\" + data.items[idIndex].id.videoId;\r\n    console.log(\"Our URL: \" + randomURL);\r\n    console.log(data);\r\n    this.setState({ videoURL: randomURL });\r\n    return randomURL;\r\n  }\r\n\r\n  async createWordList() {\r\n    var words = [];\r\n    let res = await fetch(\"/common-words.json\");\r\n    let data = await res.json();\r\n    for (var word in data) {\r\n      words.push(word);\r\n    }\r\n    return words;\r\n  }\r\n\r\n  getRandomVideo = () => {\r\n    this.getVideo();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <body>\r\n        <div>\r\n          <Title />\r\n          <RandomVideoButton onClick={this.getRandomVideo} />\r\n          <MiddleRow url={this.state.videoURL} />\r\n        </div>\r\n      </body>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}